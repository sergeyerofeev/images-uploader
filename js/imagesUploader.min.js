(function(){function l(){m();k();document.removeEventListener("DOMContentLoaded",l)}function m(){for(var b=document.body.getElementsByTagName("img"),e=0;e<b.length;++e)if(b[e].hasAttribute("data-dimensions")){for(var a=b[e],c=a.getAttribute("data-dimensions").split(" ",2),d=+c[0],c=+c[1],f=0,h=a.parentElement;"HTML"!==h.tagName;)var g=getComputedStyle(h),f=f+(parseInt(g.marginLeft)+parseInt(g.marginRight)+parseInt(g.borderLeftWidth)+parseInt(g.borderRightWidth)+parseInt(g.paddingLeft)+parseInt(g.paddingRight)),h=h.parentElement;f=document.documentElement.clientWidth-f;f>=d?(a.style.width=d+"px",a.style.height=c+"px"):(a.style.width=f+"px",a.style.height=Math.round(c/d*f)+"px")}}function k(){for(var b=document.body.getElementsByTagName("img"),e=!0,a=0;a<b.length;++a)if(b[a].hasAttribute("data-src")){e=!1;var c=b[a].getBoundingClientRect(),d=c.top,c=0<c.bottom&&d<window.innerHeight;if(0<d&&d<window.innerHeight||c)d=b[a].getAttribute("data-src"),b[a].setAttribute("src",d),b[a].removeAttribute("data-src")}e&& document.removeEventListener("scroll",k)}window.addEventListener("resize",m);document.addEventListener("DOMContentLoaded",l);document.addEventListener("scroll",k)})();